# React

By [Li Yihan](https://github.com/liyihann), [Cao Zixuan](https://github.com/caozixuan), [Cai Hongyang](https://github.com/LuvMeReal), [Zhang Dake](https://github.com/RickyZhang1998)  

## Abstract	[>](https://github.com/liyihann/react/wiki/01.Abstract)

## Introduction	[>](https://github.com/liyihann/react/wiki/02.Introduction)

Raised in F8 by Facebook in 2014, React is an open-source JavaScript library for building user interfaces in Web Programming. React is commonly used in the development of UI, which focuses on the View part in the traditional MVC Model. It is narrow in scope and tightly focused. It's known for three features —— declarative, component-based and applicable in a wide range of fields.

React provides a method of declarative programming. Simplified grammar can still generate efficient and interactive UIs. React efficiently handles DOM manipulations through a Virtual DOM using an algorithm which determines the optimal set of manipulations based upon the changes needed.

Components developed using React can be highly encapsulated and reusable. You are recommended to break down a larger component into many small components which can be reused.

A new XML-like syntax named JSX is introduced in order to make modification on React components much more straightforward. Furthermore, React is flexible and provides hooks that allow users to interface with other libraries and frameworks.

Nowadays, React is widely used in business. The users include Zhihu, Instagram and so on. What's more, this project on GitHub has over 1,200 contributors and nearly 100 releases. There is an increasing number of web developers who are willing to use this library and help promote the development of React.

## Stakeholders	[>](https://github.com/liyihann/react/wiki/03.Stakeholders)

To start with analysis of its architure, we talk about stackholders for React as an open source and widely-used project. Nick Rozanski and Eoin Woods gave an definition for stakeholder as follows:<a href="#ref_sta1">[1]</a>

> A stakeholder in a software architecture is a person, group, or entity with an interest in or concerns about the realization of the architecture.

Different types of stakeholders have different requirements and influences on the project. As an open source project, the category boundaries of React's stakeholders may not be very clear. Actually, our team member sent an e-mail to the manager of ReactJS core team, [@Sophie Alpert](https://github.com/sophiebits), expecting some extra information, which got such reply as follows:

> We don't typically have a formal division of responsibilities between the different stakeholder classes you have listed. For example, everyone on the team acts as a communicator, developer, maintainer, support, and tester from time to time. People have the chance to choose what to work on based on whatever is pressing and what they find interesting.  
>
> React as a project is not wholly owned by Facebook, but the most active contributors (what we think of as the "core team") are all employed by Facebook and paid full time to work on React using Facebook's funds.

However, in order to more fully understand roles of stakeholders of React, we will still classify and analyze the various roles according to classification method of Rozanski and Woods below.

### Stakeholder Roles

Rozanski and Woods classified stakeholders as ten roles  according to their roles and concerns: ``Acquirers``, `` Assessors``, ``Communicators``, ``Developers``, ``Maintainers``, ``Suppliers``, ``Support staff``, ``System administrators``, ``Testers`` and ``Users``. Here, we analyze each of these stakeholer groups based on the actual situation of this project. 

Although there are a large number of brilliant and passionate developers that contributed to React, in order to specify stakeholder roles of React more clearly and more intuitively, we will mainly discuss the core team members here. They are:

[@Andrew Clark](https://github.com/acdlite), [@Dan Abranmov](https://github.com/gaearon), [@Brian Vaughn](https://github.com/bvaughn), [@Dominic Gannaway](https://github.com/trueadm), [@Brandon Dail](https://github.com/aweary) and [@Flarnie Marchan](https://github.com/flarnie)

![stakeholders](https://ws1.sinaimg.cn/large/006tNbRwgy1fw6fx97q0ij31240k8q7w.jpg)

#### Acquirers

Acquirers oversee the procurement of the system or product.

React was started by [@Jordan Walke](https://github.com/jordwalke), a Facebook software engineer, in 2011. However, this project is not wholly owned by Facebook. This project relies on Facebook's funds and other sources. [@Sophie Alpert](https://github.com/sophiebits) is the first open source contributor to React, and now the manager of ReactJS at Facebook, who manages fundings for product. She can represent the commercial interests of users in negotiating with third-party suppliers and can also be investor representation in this group if specific external investment is required to fund the project. 

#### Assessors

Assessors oversee the system’s conformance to standards and legal regulation.

The members of the core team are responsible for checking whether the pull-requests meet the standards of the Code of Conduct adopted by Facebook. In this case, assessors come from React’s Core Team instead of external legal entities.

#### Communicators

Communicators explain the system to other stakeholders via its documentation and training materials.

Communicators usually explain the rationale behind and details of the architecture to technical and lay audience. In this case, the whole project is put on GitHub, where people can view codes freely. Every time when there is a new version released, the README file will be updated simultaneously so that we can learn about the new features of this version. What’s more, other stakeholders can follow the official React blog [@reactjs]( https://twitter.com/reactjs) on Twitter for the latest news about React.

#### Developer

**Developers** are those people who construct and deploy the system from specifications. 

From this point of view, all the contributors of React code hub can be considered as developers. When we talk about the developers of React, we first should know the development of React. 

Back in 2011, the developers at Facebook started to face some issues with code maintenance. When Facebook needed to come up with a good solution for it, **Jordan Walke** worked on the prototype and created React. Later, some employees of Facebook keep building the React. 

In 2013, **Jordan Walke** introduced React. Its expansion was quick, and more and more develpers from big companies such as **Netflix** and **Twitter** joined.

In summary, React's initial developer is Jordan Walke along with his colleagues. With the popularity of React developing, more and more community deveplopers join.

#### Maintainer

Maintainer manages the evolution of the system once operational. 

In React, the React Core team work as maintainers. They discuss the development direction of React and they accepte and review pull-requests. From github contrbutors, we view the main contributors, and find thoese programmers who work for React core team. 

Here are the major maintainers:[@Andrew Clark](https://github.com/acdlite), [@Dan Abranmov](https://github.com/gaearon), [@Brian Vaughn](https://github.com/bvaughn), [@Dominic Gannaway](https://github.com/trueadm), [@Brandon Dail](https://github.com/aweary) and [@Flarnie Marchan](https://github.com/flarnie).

#### Suppliers

Suppliers build or supply the hardware, software or infrastructure on which the system will run. The build of React rely on many other dependenies. We just list the most important ones.

**Node.js**: It is an open-source, cross-platform JavaScript run-time environment that executes JavaScript code outside of a browser. This project is governed by the Node.js Foundation and is faciliteted by the Linux Fiundations's Collaborativ Projectss program.

**Art**: It is a retained mode vector drawing API designed formultiple output modes. This opensouce project is also built by Facebook.

**Babel**: It is a tool that helps programmers write code in the latest version of JavaScript.

**Webpack**: It is an open-source JavaScript module bundler. Its main purpose is to bundle JavaScript files for usage in a browser, yet it is also capable of transforming, bundling, or packaging just about any resource or asset.

**http-server**: It is a simple, zero-configuration command-line http server. It is powerful enough for production usage, but it's simple and hackable enough to be used for testing, local development, and learning.

**dagre**: Dagre is a JavaScript library that makes it easy to lay out directed graphs on the client-side.

#### Support staff

Support staff are those who provide support to users for the product or system when it is running. 

As  we have mentioned above, React is an open source project on [Github](https://github.com/facebook/react). Every member on the core team acts as a technical support. If users have any bug to report or question to  ask, they can feel free to open an issue on the [issue page](https://github.com/facebook/react/issues) of the project on Github as long as they follow the contributing guidelines. After that, developers of core team will notice it and give their suggestions.

#### System administrators

System administrators run the system once it has been deployed.

React is an open source Javascript framework which can be downloaded and used by every one on their website or other projects. After the system has been deployed, it is users themselves that are in charge of administration of the whole project. For individual users, that is, web developers themselves, is very likely to administrate the system. For team users or corporate users, it is more likely to have a specified person to act as the system administrator. They will focus on a wide range of concerns, such as system monitoring and management, business continuity, disaster recovery, availability, resilience, and scalability. 

#### Testers

Since React is a open-source library and has been posted on the Github, a huge number of programmers have the access to test it. Therefor it is tested by the staff of React and the contributors on the Github. When bugs are found, they can send emails or issue them on the Github for the staff to solve.

#### Users

As we know, React is a JavaScript Library for building users interfaces. Thus, every student or programmers who is a front-end engineer may find it convenient and easy to build an interface.

### Power Interest Grid

Figure 2 shows the power versus insterest relation of the stake holders of the React:

![Power Interest Grid](http://i1.bvimg.com/648807/23ff67b794bb6f34.png)

- **Low power, low interest**:Github and npm are stakeholders that have no control over the management of  React, nor do they directly benefit from it.
- **Low power, high interest**: Users, community developers and competitors  of React are stakeholders that are greatly affected by the changes in React, but they have no power to influence the system. Also, Facebook provides funds for this project and is also an interest-related party.
- **High power, low interest**:Dependencies and suppliers provides React with necessary library and tools to develop and install. React will not affect their interests to a certain degree, but on the contrary, their changes will directly affect the development of React.
- **High power, high interest**:Coreteam and acquirers of the project are stakeholders that have significant interest and power in develoment of React.

## Context View	[>](https://github.com/liyihann/react/wiki/04.Context-View)

Now we will take a look into the details of React. This section shows the relations, platforms, dependencies and external entities that React uses. By reading the analysis graph you can get a clear view of the interactions of React.

### System Scope & Responsiblities

According to the creation and development of React that has been written in its  official [website,](https://reactjs.org/) we can learn that React was initially created to make it more efficient and easier for web developers to re-render applications.

> React is a library for building composable user interfaces. It encourages the creation of reusable UI components which present data that changes over time. 

It is commonly used in user interface developing, focusing on the View part in the traditional MVC Model. However, React is not just an MVC framework. The author([@Pete Hunt](https://twitter.com/floydophone)) described the features of React on the [blog](https://reactjs.org/blog/2013/06/05/why-react.html) as follows:

> - React isn't an MVC framework.
> - React doesn't use templates.
> - Reactive updates are dead simple.
> - HTML is just the beginning.

React functions concentratedly in the UI scope and its usage is clear and efficient. It has the following three aspects of responsiblities in general:

- **Declarative**: Enabling users to create interactive UIs in a painless and efficient way. 
- **Component-Based**: Enabling users to build encapsulated components that manage their own state, then compose them to make complex UIs.
- **Learn Once, Write Anywhere**: Enabling users to develop new features in React without rewriting existing code.

These responsiblities of React provides users a more predictable and easier way to code and debug. It is widely used by a large number of independent developers and organizations in various fields. 

### External Entities

Figure 1 shows the external entities surrounding React's enviroment and their relationships.

![entities](https://ws1.sinaimg.cn/large/006tNbRwly1fw7mrqnif5j31c40oo7ab.jpg)

With this figure, we can clearly see external entities of React.

React is...

- programmed in: JavaScript
- [developed with](https://reactjs.org/community/debugging-tools.html)：[React Developer Tools](https://github.com/facebook/react-devtools)...
- continuous integration and coverage testing with：[CircleCI](https://circleci.com/gh/facebook/react), [Coveralls](https://coveralls.io/github/facebook/react?branch=master)
- developed by：coreteam & community developers（github）
- versioning&issue tracking：git、[github](https://github.com/facebook/react)、[npm](https://www.npmjs.com/package/react)
- runs on：Windows，OSx， Linux（cross-platform）
- supported by：browsers（chrome、ie、firefox...），node.js
- [dependencies](https://github.com/liyihann/react/network/dependencies)：loose-envify, object-assign, prop-types, schedule
- communicated via：[StackOverflow](https://stackoverflow.com/questions/tagged/reactjs)、[DEV’s React community](https://dev.to/t/react)、[Hashnode’s React community](https://hashnode.com/n/reactjs)、[React Discuss](https://discuss.reactjs.org/)、[Reactiflux online chat](https://discord.gg/0ZcbPKXt5bZjGY5n)、[Reddit’s React community](https://www.reddit.com/r/reactjs/)、[Spectrum’s React community](https://spectrum.chat/react)
- licensed by：[MIT](https://github.com/facebook/react/blob/master/LICENSE)
- [used by](https://github.com/facebook/react/wiki/Sites-Using-React)：facebook、instagram、twitter、wordpress....
- competed against：Vue、Angular...
- funded by: Facebook

## Development View	[>](https://github.com/liyihann/react/wiki/05.Development-View)

According to Rozanski and Woods [1], the deployment view describes the environment where the system will be deployed.

In this case, React actually runs on the server side. It depends on several third-party softwares to realize its functions to render the web page on the client side. For the client side, customers can choose any Web Brower as long as it supports the corresponding version of JavaScript and HTML that React uses. While on the server side, React is a cross-platform product since it runs on Node.js, which is a cross-platform runtime environment in JavaScript for developing web applications on the server side. 

![Deployment View](https://i.imgur.com/03HfA17.jpg)

### Third-Party Software Requirements

**Node.js**:Node.js is an open-source, cross-platform JavaScript run-time environment that executes JavaScript code outside of a browser. It is similar to JVM for Java.

**npm**:npm is a package manager for the JavaScript programming language. It is the default package manager for the JavaScript runtime environment Node.js.

**loose-envify**: loose-envity is a JavaScript package which is used for selectively replace Node-style environment variables with plain strings.

**object-assign**:object-assign is a a JavaScript package which is used for merge JavaScrpt objects. 

**prop-types**:prop-typesis a a JavaScript package which is used for examine the type of JavaScript variables.

**schedule**:schedule  is a JavaScript package which is used for cooperative scheduling in a browser environment.

What's more, here are some recomended web browsers, Chrome, Firefox, Safari, and IE10 including later versions. And Facebook has also offered us some useful tools to develop using React. For example, we can use "create-react-app" to build development environment for React automatically without complex configuration.

## Functional View	[>](https://github.com/liyihann/react/wiki/07.Functional-View)

## Performance and Scalability Perspective	[>](https://github.com/liyihann/react/wiki/08.Performance-and-Scalability-Perspective)

## Technical Debt	[>](https://github.com/liyihann/react/wiki/09.Technical-Debt)

## Evolution-Perspective	[>](https://github.com/liyihann/react/wiki/10.Evolution-Perspective)

This section summarizes and analyzes feature evolution of React by comparing its changes among different releases, which helps us understand its core design and architecture .

With inspiration of XHP, an HTML component framework for PHP being used at Facebook, React was developed  from FaxJS which was an innovation of  Facebook before 2013, in order to make it more efficient and easier to re-render the application. <a href="#ref_evo1">[2]</a>

> “One of the things we strived for when we were building our component framework, is that we want to minimize the number of developer-facing mutations that the developer is exposed to.” (Jordan Walke)

### Feature Evolution

React's initial public open-sourced version was released on May 29, 2013 during the JS ConfUS as v0.3.0. And after that, it varies greatly between different releases. The latest version(v16.5.2) of React was released  on Sep 18, 2018 and there are still changes that have landed in master but are not yet released.  ***Figure 1*** shows the timeline of React version releases based on its [changelog](https://github.com/facebook/react/blob/master/CHANGELOG.md) and [version release posts](https://reactjs.netlify.com/blog/all.html). 

![evolution](http://i1.bvimg.com/648807/5bb81964d03efa94.png)

React uses semantic versioning to mark its major releases, minor releases, and bugfix patches. Here, we will mainly discuss the changes between its major versions.

`v0.3(0.3.0-0.3.3)`Initial public release(v0.3.0). Allow reusing the same DOM node to render different components.

`v0.4(0.4.0-0.4.1)`Prop validation and default values. Autobind by default. Support for more DOM elements and attributes. Support for the key prop. Improved synthetic event system. Some other minor changes and bug fixes.

`v0.5(0.5.0-0.5.2)`Memory usage improvements. Performance improvements. Standardized prop. Support for Selection events, Composition events, additional DOM properties and additional SVG properties . Some other minor changes and bug fixes.

`v0.8(0.8.0)`Added support for more attributes. Improved error messages. New events support. Some other minor changes and bug fixes.

`v0.9(0.9.0)`Better support for normalizing event properties. Improvements to error system. New add-ons build utilities for writing unit tests for React components. Some other minor changes and bug fixes.

`v0.10(0.10.0)`Added warnings to help migrate towards descriptors. Made it possible to server render without React-related markup. Added support for more attributes. Some other minor changes and bug fixes.

`v0.11(0.11.0-0.11.2)`Rendering to null. More  properties for keyboard events. New normalized event. A new API for counting the number of children. Some other minor changes and bug fixes.

`v0.12(0.12.0-0.12.2)`BSD license with accompanying Patents grant. Moved default prop resolution to Element creation time instead of mount time. Added support for more HTML attributes. Corrected many top-level APIs to align with the terminology. Some other minor changes and bug fixes.

`v0.13(0.13.0-0.13.3)`Deprecated patterns that warned in `v0.12` no longer work. Support for using ES6 classes to build React components. Added new top-level APIs. New ref style, allowing a callback to be used in place of a name. Support for iterators and immutable-js sequences as children. Some other minor changes and bug fixes.

`v0.14(0.14.0-0.14.8) `Split the main `react` package into two: `react` and `react-dom`. DOM node  refs. A new, simpler syntax for components. Deprecation of react-tools. Support for two compiler optimizations. Some other minor changes and bug fixes.

`v15.0` Initial render now uses `document.createElement` instead of generating HTML. `data-reactid` is no longer on every node. No more extra `<span>`s. Rendering `null` now uses comment nodes. Functional components can now return `null`. Improved SVG support. Some other minor changes and bug fixes.

`v15.4.0` React package and browser build no longer "secretly" includes React DOM. Required PropTypes now fail with specific messages for null and undefined. Improved development performance by freezing children instead of copying. Some other minor changes and bug fixes.

`v15.5.0` Added a deprecation warning for `React.PropTypes` . Points users to prop-types instead. Fixed an issue when using `ReactDOM` together with `ReactDOMServer` . Added component stack info to invalid element type warning. Some other minor changes and bug fixes.

`v15.6.0` Downgrade deprecation warnings to use `console.warn` instead of `console.error` . Add a deprecation warning for `React.createClass` , deprecation warnings anf separate module for `React.DOM` factory helpers. Warn for deprecation of `React.createMixin` helper. Some other minor changes and bug fixes.

`v16.0` Components can now return arrays and string from `render`. Improved error handling with intrduction of "error boundaries". First-class support for declaratively rendering a subtree into another DOM node with `ReactDOM.createPortal()` .Streaming mode for server side rendering is enabled with `ReactDOMServer.renderToNodeStream()` and `ReactDOMServer.renderToStaticNodeStream()`. Some other minor changes and bug fixes.

`v16.5.0` Add a warning if `React.forwardRef` render function doesn't take exactly two arguments. Improved the error message when passing an element to `createElement` by mistake. Don't call profiler `onRender` until after mutations. Some other minor changes and bug fixes.

### Debt Evolution

## Conclusion	[>](https://github.com/liyihann/react/wiki/11.Conclusion)

## References	[>](https://github.com/liyihann/react/wiki/12.References)

<a name="ref_sta1">[1]</a> Nick Rozanski and Eoin Woods. Software System Architecture: Working With Stakeholders Using Viewpoints and Perspectives. Addison-Wesley, 2012. 

<a name="ref_evo1">[2]</a>  [The Evolution Of React — DashBouquet](https://dashbouquet.com/blog/frontend-development/the-evolution-of-react)

